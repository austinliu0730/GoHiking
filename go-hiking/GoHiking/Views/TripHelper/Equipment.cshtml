@model IEnumerable<GoHiking.data.UserProfile>
@{
    ViewBag.Title = "Equipment";
}
@section MyCSS{
    <link href="~/css/mycss/product.css?v=@DateTime.Now.Ticks" rel="stylesheet" />

}
<div class="section py-5">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-10 col-xl-9">
                <div class="card p-4 shadow rounded main-card">
                    <div class="row">
                        <div class="col-lg-3 pr-lg-5">
                            <aside class="sidebar d-none d-lg-block">
                                <h3 class="sidebar-title">行程列表</h3>
                                <p class="sidebar-subtitle">Trip</p>
                                <ul class="activity-list">
                                    <li>
                                        <a href="@Url.Action("Index", "TripHelper", new { id = Model.FirstOrDefault()?.activity_id })" onclick="showEdit()">參與成員</a>
                                    </li>
                                    <li>
                                        <a href="@Url.Action("Comment", "TripHelper", new { id = Model.FirstOrDefault()?.activity_id })" onclick="showEdit()">行程討論</a>
                                    </li>
                                    <li class="active">
                                        <a href="@Url.Action("Gear", "TripHelper", new { id = Model.FirstOrDefault()?.activity_id })" onclick="showEdit()">裝備選擇</a>
                                    </li>
                                    <li>
                                        <a href="@Url.Action("CalendarIntegrated", "TripHelper", new { id = Model.FirstOrDefault()?.activity_id })">日曆管理</a>
                                    </li>
                                    <li>
                                        <a href="/User/Logout">登出</a>
                                    </li>
                                </ul>
                            </aside>
                        </div>
                        <div class="col-9 content-section hiking-checklist">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section HeroSection {
    <div class="img-bg rellax">
        <img src="/images/backgroup.jpg" alt="Image" class="img-fluid">
    </div>
    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-lg-5 text-center">
                <p data-aos="fade-up" style="color:#FFFFFF; font-size:16px;">
                    台灣登山行程｜專業媒合團隊
                </p>
                <!-- 白色短線 -->
                <div style="width: 40px; height: 1px; background-color: #FFFFFF; margin: 1px auto;" data-aos="fade-up"></div>
            </div>
        </div>
    </div>
}
@section MyJS{
    <script src="~/Scripts/jquery-3.7.1.js"></script>
    <script>
        $(() => {
            $('.activity-list a').hover(function () {
                $('.activity-list li').removeClass('active');
                $(this).parent('li').addClass('active');
            });

            // 進度條功能
            function updateProgress() {
                // 單日行程進度
                const dayCheckboxes = $('.checklist-container:first .checklist-item input[type="checkbox"]');
                const dayChecked = dayCheckboxes.filter(':checked').length;
                const dayTotal = dayCheckboxes.length;
                const dayPercent = (dayChecked / dayTotal) * 100;

                $('#progress-day').css('width', dayPercent + '%');
                $('#checked-day').text(`已準備: ${dayChecked} 項`);
                $('#total-day').text(`總共: ${dayTotal} 項`);

                // 多日行程進度
                const multiCheckboxes = $('.checklist-container:last .checklist-item input[type="checkbox"]');
                const multiChecked = multiCheckboxes.filter(':checked').length;
                const multiTotal = multiCheckboxes.length;
                const multiPercent = (multiChecked / multiTotal) * 100;

                $('#progress-multi').css('width', multiPercent + '%');
                $('#checked-multi').text(`已準備: ${multiChecked} 項`);
                $('#total-multi').text(`總共: ${multiTotal} 項`);
            }

            // 監聽複選框變化
            $('.checklist-item input[type="checkbox"]').on('change', updateProgress);

            // 初始化進度
            updateProgress();

            // 添加一些互動效果
            $('.checklist-item').on('mouseenter', function () {
                $(this).find('input[type="checkbox"]').focus();
            });
        });
    </script>
}